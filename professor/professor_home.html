<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Espace Professeur - Universit√© d'Alger</title>
    <link rel="stylesheet" href="../css/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body class="professor-dashboard">
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>üë®‚Äçüè´ Espace Professeur</h2>
            </div>
            <ul class="nav-menu">
                <li class="nav-item"><a href="professor_home.html" class="nav-link active">Accueil</a></li>
                <li class="nav-item"><a href="professor_session.html" class="nav-link">Nouvelle Session</a></li>
                <li class="nav-item"><a href="professor_attendance.html" class="nav-link">Pr√©sences</a></li>
                <li class="nav-item"><a href="#" class="nav-link logout" onclick="logout()">D√©connexion</a></li>
            </ul>
        </div>
    </nav>

    <main class="main-content">
        <div class="container">
            <div class="dashboard-header">
                <h1>Bienvenue, <span id="professorName">Professeur</span> !</h1>
                <p>G√©rez les pr√©sences de vos √©tudiants</p>
            </div>

            <!-- Barre de recherche -->
            <div class="search-container">
                <div class="search-box">
                    <input type="text" id="studentSearch" placeholder="üîç Rechercher un √©tudiant par nom ou matricule...">
                    <button class="clear-search" onclick="clearSearch()">‚úï</button>
                </div>
            </div>

            <!-- Actions rapides -->
            <div class="quick-actions">
                <div class="action-card" onclick="createNewSession()">
                    <div class="action-icon">‚ûï</div>
                    <h3>Nouvelle Session</h3>
                    <p>Commencer une prise de pr√©sence</p>
                </div>
                <div class="action-card" onclick="scrollToForm()">
                    <div class="action-icon">üéì</div>
                    <h3>Ajouter √âtudiant</h3>
                    <p>Ajouter un nouvel √©tudiant</p>
                </div>
                <div class="action-card" onclick="viewAttendance()">
                    <div class="action-icon">üìä</div>
                    <h3>Voir les Pr√©sences</h3>
                    <p>Consulter les statistiques</p>
                </div>
            </div>

            <!-- Tableau de pr√©sence -->
            <section class="attendance-section">
                <h2>Tableau de Pr√©sence des √âtudiants</h2>
                
                <div class="controls">
                    <button id="showReport" class="btn">üìà Afficher Rapport</button>
                    <button id="highlightExcellent" class="btn">üåü Highlight Excellents</button>
                    <button id="resetColors" class="btn">üîÑ Reset Couleurs</button>
                </div>

                <div class="table-container">
                    <table id="professorAttendanceTable" class="attendance-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nom</th>
                                <th>Pr√©nom</th>
                                <th>S1</th><th>P1</th>
                                <th>S2</th><th>P2</th>
                                <th>S3</th><th>P3</th>
                                <th>S4</th><th>P4</th>
                                <th>S5</th><th>P5</th>
                                <th>S6</th><th>P6</th>
                                <th>Absences</th>
                                <th>Participations</th>
                                <th>Message</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="attendanceTableBody">
                            <!-- Rempli dynamiquement -->
                        </tbody>
                    </table>
                </div>

                <!-- Section rapport -->
                <div id="reportSection" class="report-section" style="display: none;">
                    <h3>üìä Rapport de Pr√©sence</h3>
                    <div id="reportContent"></div>
                    <div class="chart-container">
                        <div class="chart-bars">
                            <div class="chart-bar total" data-tooltip="Total √âtudiants: 45">
                                <div class="bar-fill" style="height: 100%"></div>
                                <span>Total</span>
                            </div>
                            <div class="chart-bar present" data-tooltip="Pr√©sents: 39 (87%)">
                                <div class="bar-fill" style="height: 87%"></div>
                                <span>Pr√©sents</span>
                            </div>
                            <div class="chart-bar participation" data-tooltip="Participation: 32 (71%)">
                                <div class="bar-fill" style="height: 71%"></div>
                                <span>Participation</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- FORMULAIRE AJOUT √âTUDIANT INT√âGR√â -->
            <section class="add-student-section">
                <div class="section-header">
                    <h2>üéì Ajouter un Nouvel √âtudiant</h2>
                    <p>Remplissez les informations pour ajouter un √©tudiant √† la classe</p>
                </div>

                <form id="addStudentForm" class="student-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="newStudentId">ID √âtudiant *</label>
                            <input type="text" id="newStudentId" placeholder="Ex: 2024001" required>
                        </div>
                        <div class="form-group">
                            <label for="newStudentEmail">Email *</label>
                            <input type="email" id="newStudentEmail" placeholder="prenom.nom@univ-alger.dz" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="newStudentLastName">Nom *</label>
                            <input type="text" id="newStudentLastName" placeholder="Nom de famille" required>
                        </div>
                        <div class="form-group">
                            <label for="newStudentFirstName">Pr√©nom *</label>
                            <input type="text" id="newStudentFirstName" placeholder="Pr√©nom" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="newStudentFaculty">Fili√®re</label>
                            <select id="newStudentFaculty">
                                <option value="info">Informatique</option>
                                <option value="math">Math√©matiques</option>
                                <option value="physique">Physique</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="newStudentGroup">Groupe *</label>
                            <input type="text" id="newStudentGroup" placeholder="Ex: AWP-G1" required>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Ajouter l'√©tudiant</button>
                        <button type="reset" class="btn btn-secondary">R√©initialiser</button>
                    </div>
                </form>
            </section>
        </div>
    </main>

    <script src="../js/professor.js"></script>
</body>
</html>